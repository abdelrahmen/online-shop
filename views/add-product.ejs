<%- include('parts/header.ejs')%> <%- include('parts/navbar.ejs')%>

<div class="container text-center">

    <h3>Add Product</h3>
    <form action="/admin/add" method="post" enctype="multipart/form-data">
      <input type="text" class="form-control" name="name" placeholder="Name" />
      <% let nameError = validationErrors.find(err=> err.param == 'name') %> <%
      if (nameError) { %>
      <p class="alert aler-danger"><%= nameError.msg %></p>
      <% } %>
      <br>
      <input
        type="number"
        name="price"
        class="form-control"
        placeholder="Price"
      />
      <% let priceError = validationErrors.find(err=> err.param == 'price') %>
      <% if (priceError) { %>
      <p class="alert aler-danger"><%= priceError.msg %></p>
      <% } %>
      <br>
      <textarea 
        type="text"
        name="description"
        class="form-control"
        placeholder="Description"
      /></textarea>
      <% let descriptionError = validationErrors.find(err => err.param === 'description') %>
        <% if (descriptionError) { %>
            <p class="alert alert-danger">
                <%= descriptionError.msg %>
            </p>
        <% } %>
        <br>
      <select name="category" class="form-control">
        <option value="all">All</option>
        <option value="clothes">Clothes</option>
        <option value="phones">Phones</option>
        <option value="electronics">Electronics</option>
        <option value="computers">Computers</option>
    </select>
    <% let categoryError = validationErrors.find(err => err.param === 'category') %>
        <% if (categoryError) { %>
            <p class="alert alert-danger">
                <%= categoryError.msg %>
            </p>
        <% } %>
        <br>
    <input type="file" class="form-control" name="image" placeholder="Image">
    <% let imageError = validationErrors.find(err => err.param === 'image') %>
        <% if (imageError) { %>
            <p class="alert alert-danger">
                <%= imageError.msg %>
            </p>
        <% } %>
        <br>
        <input type="submit" value="Add Product" class="btn btn-primary">
    </form>
</div>
<%-include('parts/footer.ejs')%>
